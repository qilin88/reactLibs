"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createOrphanedObject = createOrphanedObject;
exports.formatError = formatError;

var _os = _interopRequireDefault(require("os"));

var _cleanStack = _interopRequireDefault(require("clean-stack"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const create = Object.create;
const hasOwnProperty = Object.prototype.hasOwnProperty;
const isPrototypeOf = Object.prototype.isPrototypeOf;
const propertyIsEnumerable = Object.prototype.propertyIsEnumerable;
const toString = Object.prototype.toString;
const valueOf = Object.prototype.valueOf;
const toLocaleString = Object.prototype.toLocaleString;

function createOrphanedObject() {
  const obj = create(null);

  obj.hasOwnProperty = v => Reflect.apply(hasOwnProperty, obj, [v]);

  obj.isPrototypeOf = v => Reflect.apply(isPrototypeOf, obj, [v]);

  obj.propertyIsEnumerable = v => Reflect.apply(propertyIsEnumerable, obj, [v]);

  obj.toLocaleString = () => Reflect.apply(toLocaleString, obj, []);

  obj.toString = () => Reflect.apply(toString, obj, []);

  obj.valueOf = () => Reflect.apply(valueOf, obj, []);

  return obj;
}

function formatError(chalk, err) {
  var _err$stack, _err$stack2;

  const message = ((_err$stack = err.stack) !== null && _err$stack !== void 0 ? _err$stack : '').split(_os.default.EOL)[0];
  const stack = (0, _cleanStack.default)((_err$stack2 = err.stack) !== null && _err$stack2 !== void 0 ? _err$stack2 : '', {
    pretty: true
  }).split(_os.default.EOL).slice(1).join(_os.default.EOL);
  return [chalk.red.bold(message), chalk.rgb(85, 85, 85)(stack)].join(_os.default.EOL);
}
//# sourceMappingURL=utils.js.map