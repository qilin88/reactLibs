"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = maskString;

var _maskAll = _interopRequireDefault(require("./mask-all"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function maskString(pattern, str, maskChar = '*') {
  if (typeof str !== 'string') {
    throw new TypeError(`Expected second argument to be of type "string", got "${typeof str}".`);
  }

  const patterns = Array.isArray(pattern) ? pattern : [pattern];
  let output = str;
  patterns.forEach(curPattern => {
    if (typeof curPattern !== 'string' && !(curPattern instanceof RegExp)) {
      throw new TypeError(`Expected pattern to be of type "string" or "RegExp", got "${typeof curPattern}".`);
    }

    const regEx = new RegExp(curPattern);
    let matchResults = regEx.exec(output);

    while (matchResults) {
      const [token] = matchResults;
      output = output.slice(0, matchResults.index) + (0, _maskAll.default)(token, maskChar) + output.slice(matchResults.index + token.length);
      matchResults = regEx.exec(output);
    }
  });
  return output;
}

module.exports = exports.default;
//# sourceMappingURL=mask.js.map