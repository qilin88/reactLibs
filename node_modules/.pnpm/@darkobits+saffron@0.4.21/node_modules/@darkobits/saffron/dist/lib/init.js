import getPackageInfo from "./package.js";
import yargs from "./yargs.js";
export default function init(cb) {
  const {
    pkgJson
  } = getPackageInfo();
  yargs.showHelpOnFail(true, 'See --help for usage instructions.');
  yargs.wrap(yargs.terminalWidth());

  if (pkgJson !== null && pkgJson !== void 0 && pkgJson.version) {
    yargs.version(pkgJson.version);
  }

  yargs.help();
  void Promise.resolve(typeof cb === 'function' ? cb(yargs) : undefined).then(customParser => {
    return typeof customParser === 'function' ? yargs.parseAsync(process.argv.slice(2), customParser) : yargs.argv;
  }).catch(err => {
    console.error(err);
    process.exit(1);
  });
}
//# sourceMappingURL=init.js.map