"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = sleep;
exports.rejectAfter = rejectAfter;

var _ms = _interopRequireDefault(require("ms"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const MAX_SAFE_VALUE = 2147483647;

function parseTime(time) {
  const parsedTime = typeof time === 'number' ? time : (0, _ms.default)(time);

  if (parsedTime > MAX_SAFE_VALUE) {
    return MAX_SAFE_VALUE;
  }

  return parsedTime;
}

async function sleep(timeout, value) {
  return new Promise(resolve => {
    setTimeout(() => {
      resolve(value);
    }, parseTime(timeout));
  });
}

async function rejectAfter(timeout, value) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      reject(value);
    }, parseTime(timeout));
  });
}
//# sourceMappingURL=sleep.js.map